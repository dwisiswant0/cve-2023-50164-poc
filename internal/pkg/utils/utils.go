package utils

import (
	"io"
	"os"
	"strings"

	"net/url"
	"path/filepath"
)

func Convert2WinSeparator(p string) string {
	return strings.ReplaceAll(p, "/", "\\")
}

func CopyFile(src, dst string) error {
	s, err := os.Open(src)
	if err != nil {
		return err
	}
	defer s.Close()

	d, err := os.Create(dst)
	if err != nil {
		return err
	}
	defer d.Close()

	_, err = io.Copy(d, s)
	if err != nil {
		return err
	}

	return nil
}

func Traverse(n int) string {
	return strings.Repeat("../", n)
}

func GetBasename(f string) []string {
	n := filepath.Base(f)
	e := filepath.Ext(n)

	return []string{n[:len(n)-len(e)], e}
}

func ParseURL(u string) error {
	_, err := url.Parse(u)
	return err
}
